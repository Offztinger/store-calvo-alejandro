(this["webpackJsonpstore-calvo-alejandro"]=this["webpackJsonpstore-calvo-alejandro"]||[]).push([[0],{22:function(e,t,c){},25:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(15),r=c.n(a),i=c(7),o=(c(22),c(8)),l=c(2),j=c(5),u=c.n(j),d=c(10),b=c(6),h="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTRiZTc3YWM1NGQ5NjAwMWEzYmIxYzIiLCJpYXQiOjE2MzIzNjQ0MTB9.aVwi4YruTq5zmJ_GVrYqojHBEsrLS1I9FP5X_sVFewE",m=c(0),x=Object(s.createContext)(),p=function(e){var t=e.children,c=Object(s.useState)([]),n=Object(i.a)(c,2),a=n[0],r=n[1],o=Object(s.useState)([{}]),l=Object(i.a)(o,2),j=l[0],u=l[1];return Object(m.jsx)(x.Provider,{value:{user:a,setUser:r,history:j,setHistory:u},children:t})};function O(){var e=Object(s.useContext)(x),t=e.user,c=e.setUser,n={headers:{Authorization:"Bearer ".concat(h)}};function a(){return(a=Object(b.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/me",n);case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return{fetchUser:function(){return a.apply(this,arguments)},user:t,restCoints:function(e){c(Object(d.a)(Object(d.a)({},t),{},{points:e}))},boostCoins:function(e){e+=t.points,c(Object(d.a)(Object(d.a)({},t),{},{points:e}))}}}var f=Object(s.createContext)(),v=function(e){var t=e.children,c=Object(s.useState)([]),n=Object(i.a)(c,2),a=n[0],r=n[1];return Object(m.jsx)(f.Provider,{value:{products:a,setProducts:r},children:t})};c(25);var N=c.p+"static/media/aerolab-logo.0a8fb170.svg",g=c.p+"static/media/coin.b8bc711d.svg";function y(e){var t=e.name,c=e.points;return Object(m.jsx)("div",{className:"Navbar",children:Object(m.jsxs)("div",{className:"navbarContainer",children:[Object(m.jsx)(o.b,{to:"/",children:Object(m.jsx)("img",{className:"logo",src:N,alt:"kite"})}),Object(m.jsxs)("div",{className:"userContent",children:[Object(m.jsx)(o.b,{to:"/user",style:{textDecoration:"none"},children:Object(m.jsx)("p",{className:"userText",children:t})}),Object(m.jsx)(o.b,{to:"/coins",style:{textDecoration:"none"},children:Object(m.jsxs)("div",{className:"coinContent",children:[Object(m.jsx)("p",{className:"coinText",children:c}),Object(m.jsx)("div",{className:"coin",children:Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})})]})})]})]})})}c(34);function C(){return Object(m.jsx)("div",{className:"Header",children:Object(m.jsx)("div",{className:"headerContent",children:Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("p",{className:"headerText",children:"Electronics"})})})})}c(35);function I(e){var t=e.filterButtons,c=e.setFilterButtons;return Object(m.jsxs)("div",{className:"Filters",children:[Object(m.jsxs)("div",{className:"filtersContainer",children:[Object(m.jsx)("p",{className:"textFilters1",children:"X of X products"}),Object(m.jsx)("div",{className:"line1"}),Object(m.jsx)("p",{className:"textFilters2",children:"Sort by: "}),Object(m.jsx)("button",{onClick:function(){c([{state1:!t[0].state1,state2:t[0].state2,state3:t[0].state3}])},className:"recent ".concat(t[0].state1?"active":""),children:"Most recent"}),Object(m.jsx)("button",{onClick:function(){c([{state1:t[0].state1,state2:!t[0].state2,state3:t[0].state3}])},className:"lowest ".concat(t[0].state2?"active":""),children:"Lowest price"}),Object(m.jsx)("button",{onClick:function(){c([{state1:t[0].state1,state2:t[0].state2,state3:!t[0].state3}])},className:"highest ".concat(t[0].state3?"active":""),children:"Highest price"})]}),Object(m.jsx)("div",{className:"line2"})]})}c(36),c(37);var w=c.p+"static/media/buy-blue.c5c4f01c.svg",k=c.p+"static/media/buy-white.9b6e6567.svg";function B(e){var t=e.id,c=e.img,s=e.category,n=e.productName,a=e.price,r=e.points,i=O().restCoints;return Object(m.jsx)("div",{className:"Product",children:Object(m.jsxs)("div",{className:"productContainer",children:[Object(m.jsxs)("div",{className:"productImage",children:[Object(m.jsx)("div",{className:"buyImageBlue",children:a<r?Object(m.jsx)("img",{className:"buyBlue",src:w,alt:"buyImage"}):Object(m.jsxs)("div",{className:"notAllow",children:[Object(m.jsxs)("p",{className:"textNotAllow",children:["You need ",a>r?a-r:0]}),Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})]})}),Object(m.jsx)("img",{className:"productImage",src:c,alt:"productImage"})]}),Object(m.jsxs)("div",{className:"productInfo",children:[Object(m.jsx)("p",{className:"category",children:s}),Object(m.jsx)("p",{className:"productName",children:n})]}),Object(m.jsxs)("div",{className:"hidden",children:[Object(m.jsx)("div",{className:"buyImageWhite",children:Object(m.jsx)("img",{className:"buyWhite",src:k,alt:"buyImage"})}),Object(m.jsxs)("div",{className:"buyContainer",children:[Object(m.jsxs)("div",{className:"coinContainer",children:[Object(m.jsx)("p",{className:"textCoin",children:a}),Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})]}),a<r?Object(m.jsx)("button",{onClick:function(){a<r?(fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(h)},body:JSON.stringify({productId:t})}),i(r-a),alert("\xa1Compra exitosa!")):alert("Uh oh, ha ocurrido un error...")},className:"redeemButton",children:"Redeem now"}):Object(m.jsx)("div",{className:"notAllow",children:Object(m.jsx)("p",{className:"textNotAllow",children:"Can't Purchase"})})]})]})]})})}function P(e){var t=e.points,c=e.products;return Object(m.jsx)("div",{className:"Results",children:Object(m.jsx)("div",{className:"resultsContainer",children:c.map((function(e){return Object(m.jsx)("div",{className:"item",children:Object(m.jsx)(B,{id:e._id,img:e.img.url,category:e.category,productName:e.name,price:e.cost,points:t})},e._id)}))})})}c(38);function S(){var e=O().boostCoins,t=function(){var t=Object(b.a)(u.a.mark((function t(c){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",body:JSON.stringify({amount:c}),headers:{"Content-type":"application/json; charset=UTF-8",Authorization:"Bearer ".concat(h)}});case 3:return s=t.sent,t.next=6,s.json();case 6:t.sent,e(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"Coins",children:Object(m.jsxs)("div",{className:"coinsContainer",children:[Object(m.jsx)("p",{className:"textCoinsPrincipal",children:"En este apartado podr\xe1 a\xf1adir fondos a tu monedero:"}),Object(m.jsxs)("button",{onClick:function(){return t(1e3)},className:"coinButton",children:["1000",Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})]}),Object(m.jsxs)("button",{onClick:function(){return t(5e3)},className:"coinButton",children:["5000",Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})]}),Object(m.jsxs)("button",{onClick:function(){return t(7500)},className:"coinButton",children:["7500",Object(m.jsx)("img",{className:"coin",src:g,alt:"coin"})]})]})})}c(39);var T=c.p+"static/media/user.4a000e6c.svg";function z(){var e=O().user,t=function(){var e=Object(s.useContext)(x),t=e.history,c=e.setHistory,n={headers:{Authorization:"Bearer ".concat(h)}};function a(){return(a=Object(b.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/history",n);case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return{fetchHistory:function(){return a.apply(this,arguments)},history:t}}(),c=t.history,n=t.fetchHistory;return Object(s.useEffect)((function(){n()}),[]),Object(m.jsx)("div",{className:"History",children:Object(m.jsxs)("div",{className:"historyContainer",children:[Object(m.jsx)("div",{className:"user",children:Object(m.jsx)("img",{src:T,alt:"user"})}),Object(m.jsxs)("div",{className:"userInformation",children:[Object(m.jsx)("p",{className:"userInformationText",children:e.name}),Object(m.jsxs)("p",{className:"userInformationText",children:["Puntos: ",e.points]}),Object(m.jsx)("div",{className:"historyInformation",children:c.map((function(e){return Object(m.jsx)("ul",{style:{listStyle:"none"},children:Object(m.jsxs)("li",{style:{margin:".7rem .5rem"},children:["Se compr\xf3 ",e.name]})},e._id)}))})]})]})})}function A(){var e=Object(s.useState)([{state1:!1,state2:!1,state3:!1}]),t=Object(i.a)(e,2),c=t[0],n=t[1],a=O(),r=a.fetchUser,j=a.user,d=function(){var e=Object(s.useContext)(f),t=e.products,c=e.setProducts,n={headers:{Authorization:"Bearer ".concat(h)}};function a(){return(a=Object(b.a)(u.a.mark((function e(){var t,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://coding-challenge-api.aerolab.co/products",n);case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,c(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return{fetchProducts:function(){return a.apply(this,arguments)},products:t}}(),x=d.fetchProducts,p=d.products;return Object(s.useEffect)((function(){x(),r()}),[]),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)(o.a,{children:[Object(m.jsx)(y,{name:j.name,points:j.points}),Object(m.jsx)(C,{}),Object(m.jsxs)(l.c,{children:[Object(m.jsx)(l.a,{path:"/user",children:Object(m.jsx)(z,{})}),Object(m.jsx)(l.a,{path:"/coins",children:Object(m.jsx)(S,{})}),Object(m.jsxs)(l.a,{path:"/",exact:!0,children:[Object(m.jsx)(I,{filterButtons:c,setFilterButtons:n}),Object(m.jsx)(P,{points:j.points,products:p})]})]})]})})}r.a.render(Object(m.jsx)(p,{children:Object(m.jsx)(v,{children:Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(A,{})})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7f90419f.chunk.js.map